import{k as oe,l as ie,m as j,p as ue,s as F,n as S,r as re,e as de,q as he,b as fe}from"./scheduler.655984ec.js";import{p as ae,t as W,b as ce,d as H,S as J,i as K,g as b,s as I,m as A,h as v,j as k,A as q,c as L,n as P,f,k as u,a as M,x as d,z as O,o as G,r as _e,u as be,v as ve,w as me}from"./index.032e79dd.js";import{p as ge}from"./stores.19d1377a.js";import{j as pe}from"./singletons.e6bd377d.js";function le(s,e){const l=e.token={};function t(o,a,n,c){if(e.token!==l)return;e.resolved=c;let r=e.ctx;n!==void 0&&(r=r.slice(),r[n]=c);const i=o&&(e.current=o)(r);let m=!1;e.block&&(e.blocks?e.blocks.forEach((h,p)=>{p!==a&&h&&(ae(),W(h,1,1,()=>{e.blocks[p]===h&&(e.blocks[p]=null)}),ce())}):e.block.d(1),i.c(),H(i,1),i.m(e.mount(),e.anchor),m=!0),e.block=i,e.blocks&&(e.blocks[a]=i),m&&ue()}if(oe(s)){const o=ie();if(s.then(a=>{j(o),t(e.then,1,e.value,a),j(null)},a=>{if(j(o),t(e.catch,2,e.error,a),j(null),!e.hasCatch)throw a}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,s),!0;e.resolved=s}}function Ae(s,e,l){const t=e.slice(),{resolved:o}=s;s.current===s.then&&(t[s.value]=o),s.current===s.catch&&(t[s.error]=o),s.block.p(t,l)}const ke=pe("goto");function Ue(s){let e,l,t,o='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16"><path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z"></path></svg>',a,n,c,r,i,m,h,p,U="Passwort ändern",N,g,_,w,C,B,y,E,Q="Ausloggen",z,R;return{c(){e=b("div"),l=b("div"),t=b("button"),t.innerHTML=o,a=I(),n=b("ul"),c=b("li"),r=b("h6"),i=A(s[0]),m=I(),h=b("li"),p=b("button"),p.textContent=U,N=I(),g=b("li"),_=b("button"),w=A("Logins Verwalten"),B=I(),y=b("li"),E=b("button"),E.textContent=Q,this.h()},l(T){e=v(T,"DIV",{class:!0});var V=k(e);l=v(V,"DIV",{class:!0});var Z=k(l);t=v(Z,"BUTTON",{class:!0,type:!0,title:!0,"data-bs-toggle":!0,"aria-expanded":!0,"data-svelte-h":!0}),q(t)!=="svelte-1y4fith"&&(t.innerHTML=o),a=L(Z),n=v(Z,"UL",{class:!0});var D=k(n);c=v(D,"LI",{});var X=k(c);r=v(X,"H6",{class:!0});var Y=k(r);i=P(Y,s[0]),Y.forEach(f),X.forEach(f),m=L(D),h=v(D,"LI",{});var x=k(h);p=v(x,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),q(p)!=="svelte-e3icxy"&&(p.textContent=U),x.forEach(f),N=L(D),g=v(D,"LI",{});var $=k(g);_=v($,"BUTTON",{id:!0,class:!0,type:!0});var ee=k(_);w=P(ee,"Logins Verwalten"),ee.forEach(f),$.forEach(f),B=L(D),y=v(D,"LI",{});var te=k(y);E=v(te,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),q(E)!=="svelte-1997fkn"&&(E.textContent=Q),te.forEach(f),D.forEach(f),Z.forEach(f),V.forEach(f),this.h()},h(){u(t,"class","btn btn-outline-danger dropdown-toggle hide-arrow svelte-1aynsk9"),u(t,"type","button"),u(t,"title","Profil"),u(t,"data-bs-toggle","dropdown"),u(t,"aria-expanded","false"),u(r,"class","dropdown-header"),u(p,"class","dropdown-item"),u(p,"type","button"),u(_,"id","login-creator"),u(_,"class","dropdown-item"),u(_,"type","button"),_.disabled=C=s[1]!=="Write",u(E,"class","dropdown-item"),u(E,"type","button"),u(n,"class","dropdown-menu dropdown-menu-end"),u(l,"class","btn-group dropdown"),u(e,"class","d-flex")},m(T,V){M(T,e,V),d(e,l),d(l,t),d(l,a),d(l,n),d(n,c),d(c,r),d(r,i),d(n,m),d(n,h),d(h,p),d(n,N),d(n,g),d(g,_),d(_,w),d(n,B),d(n,y),d(y,E),z||(R=[O(p,"click",s[3]),O(_,"click",s[4]),O(E,"click",s[5])],z=!0)},p(T,[V]){V&1&&G(i,T[0]),V&2&&C!==(C=T[1]!=="Write")&&(_.disabled=C)},i:S,o:S,d(T){T&&f(e),z=!1,re(R)}}}function we(s,e,l){let{currentUser:t}=e,{accessUser:o}=e,{onSelect:a}=e;const n=()=>{a&&a("password")},c=()=>{a&&a("login")},r=()=>{localStorage.clear(),ke("/login",{replaceState:!0})};return s.$$set=i=>{"currentUser"in i&&l(0,t=i.currentUser),"accessUser"in i&&l(1,o=i.accessUser),"onSelect"in i&&l(2,a=i.onSelect)},[t,o,a,n,c,r]}class ye extends J{constructor(e){super(),K(this,e,we,Ue,F,{currentUser:0,accessUser:1,onSelect:2})}}function se(s){let e,l;return e=new ye({props:{onSelect:s[2],currentUser:s[0],accessUser:s[1]}}),{c(){_e(e.$$.fragment)},l(t){be(e.$$.fragment,t)},m(t,o){ve(e,t,o),l=!0},p(t,o){const a={};o&4&&(a.onSelect=t[2]),o&1&&(a.currentUser=t[0]),o&2&&(a.accessUser=t[1]),e.$set(a)},i(t){l||(H(e.$$.fragment,t),l=!0)},o(t){W(e.$$.fragment,t),l=!1},d(t){me(e,t)}}}function Ee(s){let e,l,t,o,a,n,c,r=s[0]!=null&&se(s);return{c(){e=b("nav"),l=b("div"),t=b("a"),o=A("SchillerDB"),n=I(),r&&r.c(),this.h()},l(i){e=v(i,"NAV",{class:!0});var m=k(e);l=v(m,"DIV",{class:!0});var h=k(l);t=v(h,"A",{href:!0,"data-sveltekit-reload":!0,class:!0});var p=k(t);o=P(p,"SchillerDB"),p.forEach(f),n=L(h),r&&r.l(h),h.forEach(f),m.forEach(f),this.h()},h(){u(t,"href",a=s[3].url.pathname),u(t,"data-sveltekit-reload",""),u(t,"class","navbar-brand svelte-114yh5g"),u(l,"class","container-fluid"),u(e,"class","nav navbar bg-secondary-subtle svelte-114yh5g")},m(i,m){M(i,e,m),d(e,l),d(l,t),d(t,o),d(l,n),r&&r.m(l,null),c=!0},p(i,[m]){(!c||m&8&&a!==(a=i[3].url.pathname))&&u(t,"href",a),i[0]!=null?r?(r.p(i,m),m&1&&H(r,1)):(r=se(i),r.c(),H(r,1),r.m(l,null)):r&&(ae(),W(r,1,1,()=>{r=null}),ce())},i(i){c||(H(r),c=!0)},o(i){W(r),c=!1},d(i){i&&f(e),r&&r.d()}}}function Se(s,e,l){let t;de(s,ge,c=>l(3,t=c));let{currentUser:o=null}=e,{accessUser:a=null}=e,{onSelect:n}=e;return s.$$set=c=>{"currentUser"in c&&l(0,o=c.currentUser),"accessUser"in c&&l(1,a=c.accessUser),"onSelect"in c&&l(2,n=c.onSelect)},[o,a,n,t]}class Pe extends J{constructor(e){super(),K(this,e,Se,Ee,F,{currentUser:0,accessUser:1,onSelect:2})}}function ne(s){let e,l,t,o,a,n={ctx:s,current:null,token:null,hasCatch:!1,pending:Te,then:Ne,catch:Ce};return le(l=s[4],n),{c(){e=b("button"),n.block.c(),t=A(`
					Ok!`),this.h()},l(c){e=v(c,"BUTTON",{type:!0,class:!0});var r=k(e);n.block.l(r),t=P(r,`
					Ok!`),r.forEach(f),this.h()},h(){u(e,"type","button"),u(e,"class","btn btn-secondary mt-3 ok")},m(c,r){M(c,e,r),n.block.m(e,n.anchor=null),n.mount=()=>e,n.anchor=t,d(e,t),o||(a=O(e,"click",s[7]),o=!0)},p(c,r){s=c,n.ctx=s,r&16&&l!==(l=s[4])&&le(l,n)},d(c){c&&f(e),n.block.d(),n.token=null,n=null,o=!1,a()}}}function Ce(s){return{c:S,l:S,m:S,d:S}}function Ne(s){return{c:S,l:S,m:S,d:S}}function Te(s){let e;return{c(){e=b("span"),this.h()},l(l){e=v(l,"SPAN",{id:!0,class:!0,role:!0,"aria-hidden":!0}),k(e).forEach(f),this.h()},h(){u(e,"id","add-login-button-spinner"),u(e,"class","spinner-border spinner-border-sm"),u(e,"role","status"),u(e,"aria-hidden","true")},m(l,t){M(l,e,t)},d(l){l&&f(e)}}}function De(s){let e,l,t,o,a,n,c,r,i,m,h,p="Schließen",U,N,g=s[0]&&ne(s);return{c(){e=b("dialog"),l=b("div"),t=b("div"),o=A(s[1]),a=I(),n=b("div"),c=b("div"),r=A(s[2]),i=I(),g&&g.c(),m=I(),h=b("button"),h.textContent=p,this.h()},l(_){e=v(_,"DIALOG",{class:!0});var w=k(e);l=v(w,"DIV",{class:!0});var C=k(l);t=v(C,"DIV",{class:!0});var B=k(t);o=P(B,s[1]),B.forEach(f),a=L(C),n=v(C,"DIV",{class:!0});var y=k(n);c=v(y,"DIV",{class:!0});var E=k(c);r=P(E,s[2]),E.forEach(f),i=L(y),g&&g.l(y),m=L(y),h=v(y,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),q(h)!=="svelte-h6oa6y"&&(h.textContent=p),y.forEach(f),C.forEach(f),w.forEach(f),this.h()},h(){u(t,"class","card-header"),u(c,"class","card-text"),u(h,"type","button"),u(h,"class","btn btn-secondary mt-3"),u(n,"class","card-body"),u(l,"class","card"),u(e,"class","custom-dialog svelte-1fj4ifo")},m(_,w){M(_,e,w),d(e,l),d(l,t),d(t,o),d(l,a),d(l,n),d(n,c),d(c,r),d(n,i),g&&g.m(n,null),d(n,m),d(n,h),s[9](e),U||(N=[O(h,"click",s[8]),O(e,"close",s[6])],U=!0)},p(_,[w]){w&2&&G(o,_[1]),w&4&&G(r,_[2]),_[0]?g?g.p(_,w):(g=ne(_),g.c(),g.m(n,m)):g&&(g.d(1),g=null)},i:S,o:S,d(_){_&&f(e),g&&g.d(),s[9](null),U=!1,re(N)}}}function Ie(s,e,l){let t,o,a,n,{fun:c}=e;function r(U,N){l(1,t=U),l(2,o=N),a.attributes.getNamedItem("open")||a.showModal()}function i(U){he.call(this,s,U)}const m=async()=>{c&&l(4,n=c()),n.then(()=>a.close())},h=()=>a.close();function p(U){fe[U?"unshift":"push"](()=>{a=U,l(3,a)})}return s.$$set=U=>{"fun"in U&&l(0,c=U.fun)},[c,t,o,a,n,r,i,m,h,p]}class He extends J{constructor(e){super(),K(this,e,Ie,De,F,{fun:0,open:5})}get open(){return this.$$.ctx[5]}}export{He as D,Pe as N,ke as g,le as h,Ae as u};
