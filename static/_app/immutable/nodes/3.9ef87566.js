import{s as re,n as le,r as ie}from"../chunks/scheduler.e108d1fd.js";import{S as de,i as ce,g as s,s as C,z as ue,h as a,f as l,c as L,j as f,x as N,k as e,y as t,a as oe,A as H,B as G}from"../chunks/index.a9aad4a7.js";import"../chunks/paths.2c784fca.js";const ve=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,fe=!0,ye=Object.freeze(Object.defineProperty({__proto__:null,prerender:fe},Symbol.toStringTag,{value:"Module"}));const{document:J}=ve;function pe(c){let u,p,o,n,v,T='<div class="container-fluid"><a href="/login.html" class="navbar-brand svelte-2m1rv2">SNDI</a></div>',D,V,S,x,j,m,y,K="Login",k,B,h,_,r,q,w,Q="Benutzername",U,g,i,R,E,W="Passwort",$,I,X='<button type="submit" class="btn btn-primary">Login</button>',F,Y;return{c(){u=s("meta"),p=C(),o=s("section"),n=s("div"),v=s("nav"),v.innerHTML=T,D=C(),V=s("div"),S=s("div"),x=s("div"),j=s("div"),m=s("div"),y=s("h5"),y.textContent=K,k=C(),B=s("div"),h=s("form"),_=s("div"),r=s("input"),q=C(),w=s("label"),w.textContent=Q,U=C(),g=s("div"),i=s("input"),R=C(),E=s("label"),E.textContent=W,$=C(),I=s("div"),I.innerHTML=X,this.h()},l(d){const b=ue("svelte-1yk2yl2",J.head);u=a(b,"META",{name:!0,content:!0}),b.forEach(l),p=L(d),o=a(d,"SECTION",{});var Z=f(o);n=a(Z,"DIV",{class:!0});var P=f(n);v=a(P,"NAV",{class:!0,"data-svelte-h":!0}),N(v)!=="svelte-12l9art"&&(v.innerHTML=T),D=L(P),V=a(P,"DIV",{class:!0});var ee=f(V);S=a(ee,"DIV",{class:!0});var te=f(S);x=a(te,"DIV",{class:!0});var se=f(x);j=a(se,"DIV",{class:!0});var ae=f(j);m=a(ae,"DIV",{class:!0});var z=f(m);y=a(z,"H5",{class:!0,"data-svelte-h":!0}),N(y)!=="svelte-1n40lkb"&&(y.textContent=K),k=L(z),B=a(z,"DIV",{class:!0});var ne=f(B);h=a(ne,"FORM",{});var M=f(h);_=a(M,"DIV",{class:!0});var A=f(_);r=a(A,"INPUT",{type:!0,class:!0,id:!0,placeholder:!0}),q=L(A),w=a(A,"LABEL",{for:!0,"data-svelte-h":!0}),N(w)!=="svelte-1ubyjfg"&&(w.textContent=Q),A.forEach(l),U=L(M),g=a(M,"DIV",{class:!0});var O=f(g);i=a(O,"INPUT",{type:!0,class:!0,id:!0,placeholder:!0}),R=L(O),E=a(O,"LABEL",{for:!0,"data-svelte-h":!0}),N(E)!=="svelte-2d9uwq"&&(E.textContent=W),O.forEach(l),$=L(M),I=a(M,"DIV",{class:!0,"data-svelte-h":!0}),N(I)!=="svelte-1wz249l"&&(I.innerHTML=X),M.forEach(l),ne.forEach(l),z.forEach(l),ae.forEach(l),se.forEach(l),te.forEach(l),ee.forEach(l),P.forEach(l),Z.forEach(l),this.h()},h(){J.title="Login",e(u,"name","description"),e(u,"content","Login Page"),e(v,"class","nav navbar bg-secondary-subtle svelte-2m1rv2"),e(y,"class","card-title p-1"),e(r,"type","text"),e(r,"class","form-control"),e(r,"id","username"),e(r,"placeholder","Benutzername eingeben"),r.required=!0,e(w,"for","username"),e(_,"class","form-floating mb-3"),e(i,"type","password"),e(i,"class","form-control"),e(i,"id","password"),e(i,"placeholder","Passwort eingeben"),i.required=!0,e(E,"for","password"),e(g,"class","form-floating mb-3"),e(I,"class","d-grid gap-2"),e(B,"class","card-text"),e(m,"class","card-body"),e(j,"class","card"),e(x,"class","col-md-6"),e(S,"class","row p-2 h-75 align-items-center justify-content-center"),e(V,"class","container svelte-2m1rv2"),e(n,"class","main svelte-2m1rv2")},m(d,b){t(J.head,u),oe(d,p,b),oe(d,o,b),t(o,n),t(n,v),t(n,D),t(n,V),t(V,S),t(S,x),t(x,j),t(j,m),t(m,y),t(m,k),t(m,B),t(B,h),t(h,_),t(_,r),H(r,c[0]),t(_,q),t(_,w),t(h,U),t(h,g),t(g,i),H(i,c[1]),t(g,R),t(g,E),t(h,$),t(h,I),F||(Y=[G(r,"input",c[2]),G(i,"input",c[3]),G(h,"submit",c[4])],F=!0)},p(d,[b]){b&1&&r.value!==d[0]&&H(r,d[0]),b&2&&i.value!==d[1]&&H(i,d[1])},i:le,o:le,d(d){d&&(l(p),l(o)),l(u),F=!1,ie(Y)}}}async function he(c,u){const p=btoa(c+":"+u),o="/login/fetch/"+encodeURIComponent(c),n=await fetch(o,{method:"GET",headers:{Authorization:"Basic "+p,"Content-Type":"application/json; charset=utf-8"}}),v=await n.json();if(n.status===200)window.localStorage.setItem("auth",p),window.localStorage.setItem("current_user",c),window.localStorage.setItem("permissions",JSON.stringify(v.Ok)),window.open("/","_self");else{const T=document.getElementsByTagName("input");for(const D of T)D.classList.add("is-invalid")}}function me(c,u,p){let o="",n="";function v(){o=this.value,p(0,o)}function T(){n=this.value,p(1,n)}return[o,n,v,T,()=>he(o,n)]}class we extends de{constructor(u){super(),ce(this,u,me,pe,re,{})}}export{we as component,ye as universal};
